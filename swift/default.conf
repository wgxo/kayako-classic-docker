# Default server configuration
#
server {
	listen 80 default_server;

	root /var/www/html;

	index index.php index.html index.htm index.nginx-debian.html;

	server_name _;

	# deny access to .htaccess files, if Apache's document root
	# concurs with nginx's one
	#
	location ~ /\.ht {
	  deny all;
	}

	location /swift/ {
		root /var/www;
		location ~ \.php$ {                                    
		  include snippets/fastcgi-php.conf;             
		  fastcgi_pass unix:/var/run/php/php5.6-fpm.sock;
		}                                                      
	}

	location /magento/ {
	  root /var/www;
	  location ~ \.php$ {                                    
	    include snippets/fastcgi-php.conf;             
	    fastcgi_pass unix:/var/run/php/php5.6-fpm.sock;
	  }                                                      
	}

	location /joomla/ {
	  root /var/www;
	  location ~ \.php$ {                                    
	    include snippets/fastcgi-php.conf;             
	    fastcgi_pass unix:/var/run/php/php5.6-fpm.sock;
	  }                                                      
	}

  location @rewrite {
	  rewrite ^/([^\/]+)\/(.*)$ /$1/index.php?q=$2;
	}

	location /drupal/ {
		root /var/www;
	  location ~ \.php$ {                                    
	    include snippets/fastcgi-php.conf;             
	    fastcgi_pass unix:/var/run/php/php5.6-fpm.sock;
	  }                                                      
	}

	location / {
	  add_header 'X-Frame-Options' 'SAMEORIGIN';
	  try_files $uri $uri/ =404;
	}

}
